{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/lachlanmackay/g16/client/src/Newsfeed.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport { withRouter, useHistory, BrowserRouter, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport PostDialog from './PostDialog';\nimport Post from './Post';\nimport Axios from 'axios';\n\nclass Newsfeed extends Component {\n  constructor(props) {\n    super(props);\n    this.addPost = this.addPost.bind(this);\n    this.createPost = this.createPost.bind(this);\n    this.state = {\n      feedItems: [],\n      currentText: \"\",\n      user: \"\"\n    };\n  }\n\n  createPost(description, tags, file) {\n    console.log(\"inNewsFeed user = \");\n    return /*#__PURE__*/_jsxDEV(Post, {\n      description: description,\n      tags: tags,\n      file: file,\n      user: this.state.user\n    }, this.state.feedItems.length, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }, this);\n  }\n\n  addPost(description, tags, image) {\n    const newPost = this.createPost(description, tags, image);\n    this.setState({\n      feedItems: this.state.feedItems.concat([newPost])\n    });\n  }\n\n  componentDidMount() {\n    // Runs after the first render\n    Axios.get('http://localhost:3001/checklogin').then(response => {\n      if (response.data.loggedIn === true) {\n        this.setState({\n          user: response.data.user[0].Username\n        });\n        console.log(response.data.user[0].Username);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(PostDialog, {\n        onPostSubmit: this.addPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        ref: \"feed\",\n        children: [console.log(\"number of elements: \" + this.state.feedItems.length), this.state.feedItems.reverse().map(item => {\n          return item;\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Newsfeed);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/lachlanmackay/g16/client/src/Newsfeed.js"],"names":["React","Component","TextField","Button","Container","List","withRouter","useHistory","BrowserRouter","Switch","Route","Link","Redirect","PostDialog","Post","Axios","Newsfeed","constructor","props","addPost","bind","createPost","state","feedItems","currentText","user","description","tags","file","console","log","length","image","newPost","setState","concat","componentDidMount","get","then","response","data","loggedIn","Username","render","reverse","map","item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport {withRouter, useHistory, BrowserRouter , Switch, Route, Link, Redirect} from \"react-router-dom\";\nimport PostDialog from './PostDialog';\nimport Post from './Post';\nimport Axios from 'axios';\n\n\nclass Newsfeed extends Component {\n\n    constructor(props){\n        super(props);\n        this.addPost = this.addPost.bind(this);\n        this.createPost = this.createPost.bind(this);\n        \n        this.state = {\n            feedItems : [],\n            currentText : \"\",\n            user : \"\"\n            \n        }\n    }\n\n    createPost(description, tags, file) {\n        console.log(\"inNewsFeed user = \" )\n        return <Post key={this.state.feedItems.length} description={description} tags={tags} file={file} user={this.state.user}/>;\n    }\n\n    addPost(description, tags, image) {\n        const newPost = this.createPost(description, tags, image);\n        this.setState({\n            feedItems : this.state.feedItems.concat([newPost])\n        });\n    }\n\n    componentDidMount() { // Runs after the first render\n        Axios.get('http://localhost:3001/checklogin').then((response)=> {\n        if(response.data.loggedIn === true){\n          this.setState({\n              user : response.data.user[0].Username\n          });\n          console.log(response.data.user[0].Username)\n          \n        }\n        \n        });\n        \n    }\n\n    \n\n\n    render(){\n        return (\n            <Container>\n            <PostDialog onPostSubmit={this.addPost}></PostDialog>\n            <List ref=\"feed\">\n                {console.log(\"number of elements: \" + this.state.feedItems.length)}\n                {this.state.feedItems.reverse().map((item) => \n                {\n                return item\n                })\n                }\n            </List>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(Newsfeed);"]},"metadata":{},"sourceType":"module"}