{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/lachlanmackay/g16/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Axios from 'axios';\nimport { resolve } from 'dns';\nimport PasswordStrength from \"./passwordStrength\";\nimport Button from \"react-bootstrap/Button\";\nimport { BrowserRouter, Switch, Route, Link, Redirect, withRouter, useHistory } from \"react-router-dom\";\nimport Profile from \"./profile\";\nimport ProtectedRoute from \"./protectedRoute\";\nimport up from \"./upA.png\";\n\nfunction App(props) {\n  _s();\n\n  const history = useHistory();\n\n  const redirect = path => {\n    history.push(path);\n  }; //username for registration\n\n\n  const [UsernameReg, setUsernameReg] = useState(''); //username for registration\n\n  const [EmailReg, setEmailReg] = useState(''); //password for registration \n\n  const [PasswordReg, setPasswordReg] = useState(''); //confirm password for registration \n\n  const [ConPasswordReg, setConPasswordReg] = useState(''); //username for login\n\n  const [UsernameEmail, setUsernameEmail] = useState(''); //password for login \n\n  const [Password, setPassword] = useState('');\n  const [passwordFocus, setPasswordFocus] = useState(false);\n  const [passwordValid, setPasswordValid] = useState({\n    minlength: null,\n    number: null,\n    specialChar: null,\n    illegalChar: null\n  }); //checks if a user is logged in \n\n  const [isLoggedIn, setisLoggedIn] = useState(false); //checks if a user is logged in \n\n  const [isRegi, setisRegi] = useState(false); //status of the feedback header at the bottom of the page \n\n  const [status, setStatus] = useState(''); //toggle for registration div\n\n  const [show, setShow] = useState(false); //credintials for get, using axios\n\n  Axios.defaults.withCredentials = true;\n  const isNumber = /\\d/;\n  const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{}'\"\\\\|,.\\/]/;\n  const illegalCharacterRegx = /[<>;:?]/;\n\n  const checkValidity = password => {\n    setPasswordValid({\n      minlength: password.length >= 8 ? true : false,\n      number: isNumber.test(password) ? true : false,\n      specialChar: specialCharacterRegx.test(password) ? true : false,\n      illegalChar: illegalCharacterRegx.test(password) ? false : true\n    });\n  }; // register post method \n\n\n  async function register() {\n    if (passwordValid.illegalChar === true && passwordValid.minlength === true && passwordValid.specialChar === true && passwordValid.number === true) {\n      if (PasswordReg === ConPasswordReg) {\n        Axios.post('http://localhost:3001/register', {\n          username: UsernameReg,\n          password: PasswordReg,\n          email: EmailReg\n        }).then(response => {\n          console.log(\"this is regi response \" + response);\n\n          if (response.data.message) {\n            setStatus(response.data.message);\n          }\n        });\n        setisRegi(true);\n        setStatus(\"You have registered!\"); //redirect(\"/regiLanding\")\n      } else {\n        setStatus(\"Passwords do not match\");\n      }\n    } else {\n      setStatus(\"Password is invalid\");\n    }\n\n    window.location.reload();\n  }\n\n  ; // login post method \n\n  const login = () => {\n    Axios.post('http://localhost:3001/login', {\n      usernameEmail: UsernameEmail,\n      password: Password\n    }).then(response => {\n      if (response.data.message) {\n        setStatus(response.data.message);\n        setisLoggedIn(false);\n      } else {\n        console.log(response); //setStatus(response.data[0].Username);\n\n        setisLoggedIn(true);\n\n        if (response.data[0].Username !== \"\" && response.data[0].password !== \"\") {\n          redirect(\"/profile\");\n        } else {\n          setStatus(\"Please enter a username and password\");\n        }\n      }\n    });\n  }; // login post method \n\n\n  const loginRegi = () => {\n    Axios.post('http://localhost:3001/login', {\n      usernameEmail: UsernameReg,\n      password: PasswordReg\n    }).then(response => {\n      console.log(\"details \" + UsernameReg + PasswordReg);\n\n      if (response.data.message) {\n        console.log(\"login regis response \" + response.data.message);\n        setisLoggedIn(false);\n      } else {\n        console.log(\"this is the login \" + response);\n      }\n    });\n  }; //on page loading check if cookie exist for user being logged  in\n\n\n  useEffect(() => {\n    Axios.get('http://localhost:3001/checklogin').then(response => {\n      if (response.data.loggedIn === true) {\n        //console.log(response);\n        //setStatus(response.data.user[0].Username);\n        setisLoggedIn(true);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"regi\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"headings\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"regiUN\",\n        type: \"text\",\n        placeholder: \"Username\",\n        onChange: e => {\n          setUsernameReg(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"regiEmail\",\n        type: \"text\",\n        placeholder: \"Optional Email\",\n        onChange: e => {\n          setEmailReg(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"regiP\",\n        type: \"text\",\n        onFocus: () => setPasswordFocus(true),\n        onBlur: () => setPasswordFocus(false),\n        placeholder: \"Password\",\n        onChange: e => {\n          setPasswordReg(e.target.value);\n          checkValidity(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"conRegiP\",\n        type: \"text\",\n        placeholder: \"Confirm password\",\n        onChange: e => {\n          setConPasswordReg(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }, this), passwordFocus ? /*#__PURE__*/_jsxDEV(PasswordStrength, {\n        validity: passwordValid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 23\n      }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n        className: \"button\",\n        onClick: e => {\n          register();\n          setTimeout(loginRegi(), 2000);\n        },\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 7\n      }, this), //reveal status below regi form\n      !show ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"headings\",\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 7\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 5\n    }, this), //reveal login form\n    !show ?\n    /*#__PURE__*/\n    //button for toggling open registration div\n    _jsxDEV(Button, {\n      className: \"button2\",\n      onClick: () => {\n        setShow(!show);\n        setStatus(\"\");\n      },\n      children: \"Already a member? login \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }, this) : null, show ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"headings\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"logUN\",\n        type: \"text\",\n        placeholder: \"Username or Email\",\n        onChange: e => {\n          setUsernameEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"logP\",\n        type: \"text\",\n        placeholder: \"Password\",\n        onChange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"button\",\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"button2\",\n        onClick: () => {\n          setShow(!show);\n          setStatus(\"\");\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"up\",\n          alt: \"hide\",\n          src: up\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 12\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 12\n    }, this) : null, // reveal status below login form\n    show ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"headings\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 5\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"+8QUbVjw43K8wTXZQUCbrMZtUkY=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/lachlanmackay/g16/client/src/App.js"],"names":["React","useState","useEffect","Axios","resolve","PasswordStrength","Button","BrowserRouter","Switch","Route","Link","Redirect","withRouter","useHistory","Profile","ProtectedRoute","up","App","props","history","redirect","path","push","UsernameReg","setUsernameReg","EmailReg","setEmailReg","PasswordReg","setPasswordReg","ConPasswordReg","setConPasswordReg","UsernameEmail","setUsernameEmail","Password","setPassword","passwordFocus","setPasswordFocus","passwordValid","setPasswordValid","minlength","number","specialChar","illegalChar","isLoggedIn","setisLoggedIn","isRegi","setisRegi","status","setStatus","show","setShow","defaults","withCredentials","isNumber","specialCharacterRegx","illegalCharacterRegx","checkValidity","password","length","test","register","post","username","email","then","response","console","log","data","message","window","location","reload","login","usernameEmail","Username","loginRegi","get","loggedIn","e","target","value","setTimeout"],"mappings":"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","sourcesContent":["import React, {useState, useEffect}       from 'react';\nimport './App.css';\nimport Axios from 'axios';\nimport { resolve } from 'dns';\nimport PasswordStrength from \"./passwordStrength\";\nimport Button from \"react-bootstrap/Button\";\nimport {BrowserRouter , Switch, Route, Link, Redirect, withRouter, useHistory }from \"react-router-dom\";\nimport Profile from \"./profile\";\nimport ProtectedRoute from \"./protectedRoute\";\nimport up from \"./upA.png\"\n\n\n\n\n\n\nfunction App(props) {\n\n  \n  \n  const history = useHistory();\n  \n  const redirect = (path) => {\n    \n    history.push(path);\n  };\n  \n  \n  //username for registration\n  const [UsernameReg, setUsernameReg] = useState('');\n\n  //username for registration\n  const [EmailReg, setEmailReg] = useState('');\n\n  //password for registration \n  const [PasswordReg, setPasswordReg] = useState('');\n\n  //confirm password for registration \n  const [ConPasswordReg, setConPasswordReg] = useState('');\n\n  //username for login\n  const [UsernameEmail, setUsernameEmail] = useState('');\n\n  //password for login \n  const [Password, setPassword] = useState('');\n\n  const [passwordFocus, setPasswordFocus] = useState(false);\n\n  const [passwordValid, setPasswordValid] = useState({\n    minlength: null,\n    number: null,\n    specialChar: null,\n    illegalChar: null\n  });\n\n//checks if a user is logged in \n  const [isLoggedIn, setisLoggedIn] = useState(false);\n\n  //checks if a user is logged in \n  const [isRegi, setisRegi] = useState(false);\n  \n\n  //status of the feedback header at the bottom of the page \n  const [status, setStatus] = useState('');\n\n\n  //toggle for registration div\n  const [show, setShow] = useState(false);\n\n\n\n  //credintials for get, using axios\n  Axios.defaults.withCredentials = true;\n\n  const isNumber =/\\d/;\n  const specialCharacterRegx = /[ !@#$%^&*()_+\\-=\\[\\]{}'\"\\\\|,.\\/]/;\n  const illegalCharacterRegx = /[<>;:?]/;\n\n  const checkValidity = password => {\n    setPasswordValid({\n      minlength: password.length >= 8 ? true : false,\n      number: isNumber.test(password) ? true : false,\n      specialChar: specialCharacterRegx.test(password) ? true : false,\n      illegalChar: illegalCharacterRegx.test(password) ? false : true \n    })\n  }\n\n \n  \n  \n  // register post method \n  async function register(){\n    \n\n    if(passwordValid.illegalChar === true && passwordValid.minlength === true && passwordValid.specialChar === true && passwordValid.number === true) {\n      if(PasswordReg === ConPasswordReg){\n        \n        Axios.post('http://localhost:3001/register', {\n        username: UsernameReg,\n        password: PasswordReg,\n        email: EmailReg\n  \n        }).then((response) => {\n          console.log(\"this is regi response \" +response)\n          if(response.data.message){\n            setStatus(response.data.message)\n          }\n          \n        \n\n        \n        });\n        setisRegi(true);\n        setStatus(\"You have registered!\");\n        \n        //redirect(\"/regiLanding\")\n\n        \n        \n        \n      }\n      else{\n        setStatus(\"Passwords do not match\");\n      }\n      \n    }\n    else {\n      setStatus(\"Password is invalid\");\n    }\n    window.location.reload();\n    \n  };\n\n  \n  // login post method \n  const login = () => {\n    \n    Axios.post('http://localhost:3001/login', {\n      usernameEmail: UsernameEmail,\n      password: Password,\n\n  }).then((response) => {\n    if(response.data.message){\n      setStatus(response.data.message);\n      setisLoggedIn(false);\n    }\n    else {\n      console.log(response);\n      //setStatus(response.data[0].Username);\n      setisLoggedIn(true);\n      if(response.data[0].Username !==\"\" && response.data[0].password !== \"\"){\n        redirect(\"/profile\");\n      }else {\n        setStatus(\"Please enter a username and password\");\n      }\n      \n      \n     \n      \n      \n      \n    }\n  });\n  };\n\n\n\n // login post method \n const loginRegi = ()=>{\n  \n  Axios.post('http://localhost:3001/login', {\n    usernameEmail: UsernameReg,\n    password: PasswordReg,\n\n}).then((response) => {\n  console.log(\"details \" + UsernameReg + PasswordReg)\n  if(response.data.message){\n    console.log(\"login regis response \" + response.data.message);\n    setisLoggedIn(false);\n  }else{\n    console.log(\"this is the login \" + response);\n  }\n\n});\n};\n\n\n\n\n\n//on page loading check if cookie exist for user being logged  in\nuseEffect( ()=> {\n    Axios.get('http://localhost:3001/checklogin').then((response)=> {\n    if(response.data.loggedIn === true){\n      //console.log(response);\n      //setStatus(response.data.user[0].Username);\n      setisLoggedIn(true);\n      \n    }\n    \n    });\n  }, []);\n\n  \n return (\n\n  \n  <div className=\"App\">\n    <div className=\"regi\">\n\n      <h1 className=\"headings\">Sign Up</h1>\n      {/*input for registration username */}\n      <input className=\"regiUN\" type=\"text\" placeholder=\"Username\" onChange={(e) => {\n        setUsernameReg(e.target.value);\n      }}/>\n      <input className=\"regiEmail\" type=\"text\" placeholder=\"Optional Email\" onChange={(e) => {\n        setEmailReg(e.target.value);\n      }}/>\n      {/*input for registration password */}\n      <input className=\"regiP\" type=\"text\" onFocus={ () => setPasswordFocus(true)} onBlur={ () => setPasswordFocus(false)} placeholder=\"Password\" onChange={(e) => {\n        \n        setPasswordReg(e.target.value);\n        checkValidity(e.target.value);\n      }} />\n\n      {/*input for registration confirmation password */}\n      <input className=\"conRegiP\" type=\"text\" placeholder=\"Confirm password\" onChange={(e) => {\n        setConPasswordReg(e.target.value);\n      }} />\n\n      {passwordFocus? <PasswordStrength validity={passwordValid}/>:null}\n\n      {/* register button that calls register function */}\n      <Button className=\"button\" onClick={(e) => { \n        register()\n        setTimeout(loginRegi(),2000)\n        \n      }}>Sign up</Button>\n      {//reveal status below regi form\n       !show?\n      <h2 className=\"headings\">{status}</h2>:null\n    }\n      \n    </div>\n    <br></br>\n    {/*button for toggling open registration div */}\n    { //reveal login form\n      !show?\n    //button for toggling open registration div\n    <Button className=\"button2\" onClick={()=> {\n      setShow(!show)\n      setStatus(\"\")\n    }}> \n    Already a member? login </Button>:null\n    }\n    { \n      show?<div className=\"login\">\n\n      <h1 className=\"headings\">Login</h1>\n      {/*input for login username*/}\n      <input className=\"logUN\" type=\"text\" placeholder=\"Username or Email\" onChange={(e) => {\n        setUsernameEmail(e.target.value);\n      }} />\n      {/*input for login password */}\n      <input className=\"logP\" type=\"text\" placeholder=\"Password\" onChange={(e) => {\n        setPassword(e.target.value);\n      }}/>\n      <Button className=\"button\" onClick={ login }>Login</Button>\n      <br></br>\n      <Button className=\"button2\" onClick={()=> {\n        setShow(!show);\n        setStatus(\"\")}\n        }> <img className=\"up\" alt=\"hide\" src={up} /> </Button>\n\n      \n     \n      \n\n\n    \n\n</div>:null\n  }\n   {/* header for feedback of login or registration status */}\n   \n  { // reveal status below login form\n  show?\n    <h2 className=\"headings\">{status}</h2>:null\n    }\n</div>\n\n\n );\n\n\n   \n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}