{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Card from'@material-ui/core/Card';import Typography from'@material-ui/core/Typography';import ListItem from'@material-ui/core/ListItem';import CardContent from'@material-ui/core/CardContent';import Axios from'axios';var split=[];var add=true;var Post=/*#__PURE__*/function(_Component){_inherits(Post,_Component);var _super=_createSuper(Post);function Post(props){var _this;_classCallCheck(this,Post);_this=_super.call(this,props);_this.state={description:props.description,key:props.key,file:props.file,tags:props.tags,user:props.user,id:0};console.log(\"Props file: \"+props.file);return _this;}_createClass(Post,[{key:\"postPostInfo\",value:function postPostInfo(){var _this2=this;Axios.post('http://localhost:3001/posts',{username:this.state.user,description:this.state.description,img:this.state.file}).then(function(response){if(response){console.log(response);_this2.setState({id:response.data.insertId});_this2.parseTags();}else{console.log(\"no response\");}});add=false;}},{key:\"postPostTags\",value:function postPostTags(){console.log(\"intags\");console.log(this.state.id);if(this.state.id!=0){Axios.post('http://localhost:3001/tags',{tags:split,id:this.state.id}).then(function(response){if(response){}else{console.log(\"no response\");}});}}},{key:\"parseTags\",value:function parseTags(){split=this.state.tags.split(\" \");console.log(split);this.postPostTags();}},{key:\"componentDidMount\",value:function componentDidMount(){// Runs after the first render\nconsole.log(\"in component\");this.postPostInfo();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"postimg\",src:this.state.file}),/*#__PURE__*/_jsx(Typography,{children:\"User\"}),/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:this.state.description}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:this.state.tags})]})})},this.state.key);}}]);return Post;}(Component);export default Post;","map":{"version":3,"sources":["C:/Users/evan_/Documents/GitHub/picshare/src/Post.js"],"names":["React","Component","Card","Typography","ListItem","CardContent","Axios","split","add","Post","props","state","description","key","file","tags","user","id","console","log","post","username","img","then","response","setState","data","insertId","parseTags","postPostTags","postPostInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar split = [];\r\nvar add = true;\r\n\r\n\r\nclass Post extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = { description: props.description, key: props.key, file: props.file, tags : props.tags, user: props.user, id:0};\r\n      console.log(\"Props file: \" + props.file);\r\n    }\r\n\r\n\r\n\r\n    postPostInfo() {\r\n\r\n      Axios.post('http://localhost:3001/posts', {\r\n                username: this.state.user,\r\n                description: this.state.description,\r\n                img: this.state.file\r\n\r\n            }).then((response) => {\r\n              if(response){\r\n                console.log(response)\r\n                this.setState({id : response.data.insertId});\r\n                this.parseTags();\r\n\r\n\r\n              }else {\r\n                console.log(\"no response\")\r\n              }\r\n\r\n\r\n            })\r\n          add = false;\r\n\r\n    }\r\n\r\n    postPostTags() {\r\n      console.log(\"intags\")\r\n      console.log(this.state.id)\r\n      if(this.state.id != 0){\r\n        Axios.post('http://localhost:3001/tags', {\r\n                  tags: split,\r\n                  id: this.state.id\r\n\r\n\r\n              }).then((response) => {\r\n                if(response){\r\n\r\n                }else {\r\n                  console.log(\"no response\")\r\n                }\r\n\r\n\r\n              })\r\n        }\r\n    }\r\n\r\n    parseTags(){\r\n      split = this.state.tags.split(\" \")\r\n\r\n      console.log(split)\r\n      this.postPostTags();\r\n\r\n    }\r\n\r\n    componentDidMount() { // Runs after the first render\r\n      console.log(\"in component\")\r\n\r\n        this.postPostInfo();\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n      return (\r\n\r\n        <ListItem key={this.state.key}>\r\n            <Card>\r\n                <CardContent>\r\n                <img className=\"postimg\" src={this.state.file} />\r\n                <Typography>\r\n                    User\r\n                </Typography>\r\n                <Typography color=\"textSecondary\" gutterBottom>\r\n                    {this.state.description}\r\n                </Typography>\r\n                <br></br>\r\n                <Typography color=\"textSecondary\" gutterBottom>\r\n                    {this.state.tags}\r\n                </Typography>\r\n                </CardContent>\r\n            </Card>\r\n\r\n        </ListItem>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Post;\r\n"]},"metadata":{},"sourceType":"module"}