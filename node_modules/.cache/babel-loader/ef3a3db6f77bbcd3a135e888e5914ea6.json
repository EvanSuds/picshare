{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/evan_/Documents/GitHub/picshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import Container from'@material-ui/core/Container';import List from'@material-ui/core/List';import{withRouter,useHistory,BrowserRouter,Switch,Route,Link,Redirect}from\"react-router-dom\";import PostDialog from'./PostDialog';import Post from'./Post';import Axios from'axios';var Newsfeed=/*#__PURE__*/function(_Component){_inherits(Newsfeed,_Component);var _super=_createSuper(Newsfeed);function Newsfeed(props){var _this;_classCallCheck(this,Newsfeed);_this=_super.call(this,props);_this.addPost=_this.addPost.bind(_assertThisInitialized(_this));_this.createPost=_this.createPost.bind(_assertThisInitialized(_this));_this.state={feedItems:[],currentText:\"\",user:\"\"};return _this;}_createClass(Newsfeed,[{key:\"createPost\",value:function createPost(description,tags,file){return/*#__PURE__*/_jsx(Post,{description:description,tags:tags,file:file,user:this.state.user},this.state.feedItems.length);}},{key:\"addPost\",value:function addPost(description,tags,image){var newPost=this.createPost(description,tags,image);this.setState({feedItems:this.state.feedItems.concat([newPost])});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Runs after the first render\nAxios.get('http://localhost:3001/checklogin').then(function(response){if(response.data.loggedIn===true){_this2.setState({user:response.data.user[0].Username});console.log(response.data.user[0].Username);}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(PostDialog,{onPostSubmit:this.addPost}),/*#__PURE__*/_jsxs(List,{ref:\"feed\",children:[console.log(\"number of elements: \"+this.state.feedItems.length),this.state.feedItems.reverse().map(function(item){return item;})]})]});}}]);return Newsfeed;}(Component);export default withRouter(Newsfeed);","map":{"version":3,"sources":["C:/Users/evan_/Documents/GitHub/picshare/src/Newsfeed.js"],"names":["React","Component","TextField","Button","Container","List","withRouter","useHistory","BrowserRouter","Switch","Route","Link","Redirect","PostDialog","Post","Axios","Newsfeed","props","addPost","bind","createPost","state","feedItems","currentText","user","description","tags","file","length","image","newPost","setState","concat","get","then","response","data","loggedIn","Username","console","log","reverse","map","item"],"mappings":"m3BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAAQC,UAAR,CAAoBC,UAApB,CAAgCC,aAAhC,CAAgDC,MAAhD,CAAwDC,KAAxD,CAA+DC,IAA/D,CAAqEC,QAArE,KAAoF,kBAApF,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAGMC,CAAAA,Q,oGAEF,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EACA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CAEA,MAAKE,KAAL,CAAa,CACTC,SAAS,CAAG,EADH,CAETC,WAAW,CAAG,EAFL,CAGTC,IAAI,CAAG,EAHE,CAAb,CALc,aAWjB,C,mEAEUC,W,CAAaC,I,CAAMC,I,CAAM,CAChC,mBAAO,KAAC,IAAD,EAAwC,WAAW,CAAEF,WAArD,CAAkE,IAAI,CAAEC,IAAxE,CAA8E,IAAI,CAAEC,IAApF,CAA0F,IAAI,CAAE,KAAKN,KAAL,CAAWG,IAA3G,EAAW,KAAKH,KAAL,CAAWC,SAAX,CAAqBM,MAAhC,CAAP,CACH,C,wCAEOH,W,CAAaC,I,CAAMG,K,CAAO,CAC9B,GAAMC,CAAAA,OAAO,CAAG,KAAKV,UAAL,CAAgBK,WAAhB,CAA6BC,IAA7B,CAAmCG,KAAnC,CAAhB,CACA,KAAKE,QAAL,CAAc,CACVT,SAAS,CAAG,KAAKD,KAAL,CAAWC,SAAX,CAAqBU,MAArB,CAA4B,CAACF,OAAD,CAA5B,CADF,CAAd,EAGH,C,6DAEmB,iBAAE;AAClBf,KAAK,CAACkB,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAmD,SAACC,QAAD,CAAa,CAChE,GAAGA,QAAQ,CAACC,IAAT,CAAcC,QAAd,GAA2B,IAA9B,CAAmC,CACjC,MAAI,CAACN,QAAL,CAAc,CACVP,IAAI,CAAGW,QAAQ,CAACC,IAAT,CAAcZ,IAAd,CAAmB,CAAnB,EAAsBc,QADnB,CAAd,EAGAC,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACC,IAAT,CAAcZ,IAAd,CAAmB,CAAnB,EAAsBc,QAAlC,EAED,CAEA,CATD,EAWH,C,uCAKO,CACJ,mBACI,MAAC,SAAD,yBACA,KAAC,UAAD,EAAY,YAAY,CAAE,KAAKpB,OAA/B,EADA,cAEA,MAAC,IAAD,EAAM,GAAG,CAAC,MAAV,WACKqB,OAAO,CAACC,GAAR,CAAY,uBAAyB,KAAKnB,KAAL,CAAWC,SAAX,CAAqBM,MAA1D,CADL,CAEK,KAAKP,KAAL,CAAWC,SAAX,CAAqBmB,OAArB,GAA+BC,GAA/B,CAAmC,SAACC,IAAD,CACpC,CACA,MAAOA,CAAAA,IAAP,CACC,CAHA,CAFL,GAFA,GADJ,CAaH,C,sBAzDkB1C,S,EA4DvB,cAAeK,CAAAA,UAAU,CAACU,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport List from '@material-ui/core/List';\r\nimport {withRouter, useHistory, BrowserRouter , Switch, Route, Link, Redirect} from \"react-router-dom\";\r\nimport PostDialog from './PostDialog';\r\nimport Post from './Post';\r\nimport Axios from 'axios';\r\n\r\n\r\nclass Newsfeed extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.addPost = this.addPost.bind(this);\r\n        this.createPost = this.createPost.bind(this);\r\n        \r\n        this.state = {\r\n            feedItems : [],\r\n            currentText : \"\",\r\n            user : \"\"\r\n            \r\n        }\r\n    }\r\n\r\n    createPost(description, tags, file) {\r\n        return <Post key={this.state.feedItems.length} description={description} tags={tags} file={file} user={this.state.user}/>;\r\n    }\r\n\r\n    addPost(description, tags, image) {\r\n        const newPost = this.createPost(description, tags, image);\r\n        this.setState({\r\n            feedItems : this.state.feedItems.concat([newPost])\r\n        });\r\n    }\r\n\r\n    componentDidMount() { // Runs after the first render\r\n        Axios.get('http://localhost:3001/checklogin').then((response)=> {\r\n        if(response.data.loggedIn === true){\r\n          this.setState({\r\n              user : response.data.user[0].Username\r\n          });\r\n          console.log(response.data.user[0].Username)\r\n          \r\n        }\r\n        \r\n        });\r\n        \r\n    }\r\n\r\n    \r\n\r\n\r\n    render(){\r\n        return (\r\n            <Container>\r\n            <PostDialog onPostSubmit={this.addPost}></PostDialog>\r\n            <List ref=\"feed\">\r\n                {console.log(\"number of elements: \" + this.state.feedItems.length)}\r\n                {this.state.feedItems.reverse().map((item) => \r\n                {\r\n                return item\r\n                })\r\n                }\r\n            </List>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Newsfeed);"]},"metadata":{},"sourceType":"module"}