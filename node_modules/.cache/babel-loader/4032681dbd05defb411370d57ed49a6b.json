{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\evan_\\\\Documents\\\\GitHub\\\\F29SO-Picshare\\\\client\\\\src\\\\Newsfeed.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport { withRouter, useHistory, BrowserRouter, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport PostDialog from './PostDialog';\nimport Post from './Post';\nimport Axios from 'axios';\n\nvar Newsfeed = /*#__PURE__*/function (_Component) {\n  _inherits(Newsfeed, _Component);\n\n  function Newsfeed(props) {\n    var _this;\n\n    _classCallCheck(this, Newsfeed);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Newsfeed).call(this, props));\n    _this.addPost = _this.addPost.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createPost = _this.createPost.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      feedItems: [],\n      currentText: \"\",\n      user: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Newsfeed, [{\n    key: \"createPost\",\n    value: function createPost(description, tags, file) {\n      return /*#__PURE__*/React.createElement(Post, {\n        key: this.state.feedItems.length,\n        description: description,\n        tags: tags,\n        file: file,\n        user: this.state.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 16\n        }\n      });\n    }\n  }, {\n    key: \"addPost\",\n    value: function addPost(description, tags, image) {\n      var newPost = this.createPost(description, tags, image);\n      this.setState({\n        feedItems: this.state.feedItems.concat([newPost])\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Runs after the first render\n      Axios.get('http://localhost:3001/checklogin').then(function (response) {\n        if (response.data.loggedIn === true) {\n          _this2.setState({\n            user: response.data.user[0].Username\n          });\n\n          console.log(response.data.user[0].Username);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PostDialog, {\n        onPostSubmit: this.addPost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(List, {\n        ref: \"feed\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, console.log(\"number of elements: \" + this.state.feedItems.length), this.state.feedItems.reverse().map(function (item) {\n        return item;\n      })));\n    }\n  }]);\n\n  return Newsfeed;\n}(Component);\n\nexport default withRouter(Newsfeed);","map":{"version":3,"sources":["C:/Users/evan_/Documents/GitHub/F29SO-Picshare/client/src/Newsfeed.js"],"names":["React","Component","TextField","Button","Container","List","withRouter","useHistory","BrowserRouter","Switch","Route","Link","Redirect","PostDialog","Post","Axios","Newsfeed","props","addPost","bind","createPost","state","feedItems","currentText","user","description","tags","file","length","image","newPost","setState","concat","get","then","response","data","loggedIn","Username","console","log","reverse","map","item"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAAQC,UAAR,EAAoBC,UAApB,EAAgCC,aAAhC,EAAgDC,MAAhD,EAAwDC,KAAxD,EAA+DC,IAA/D,EAAqEC,QAArE,QAAoF,kBAApF;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAGMC,Q;;;AAEF,oBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,kFAAMA,KAAN;AACA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,uDAAf;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,uDAAlB;AAEA,UAAKE,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAG,EADH;AAETC,MAAAA,WAAW,EAAG,EAFL;AAGTC,MAAAA,IAAI,EAAG;AAHE,KAAb;AALc;AAWjB;;;;+BAEUC,W,EAAaC,I,EAAMC,I,EAAM;AAChC,0BAAO,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAE,KAAKN,KAAL,CAAWC,SAAX,CAAqBM,MAAhC;AAAwC,QAAA,WAAW,EAAEH,WAArD;AAAkE,QAAA,IAAI,EAAEC,IAAxE;AAA8E,QAAA,IAAI,EAAEC,IAApF;AAA0F,QAAA,IAAI,EAAE,KAAKN,KAAL,CAAWG,IAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;;4BAEOC,W,EAAaC,I,EAAMG,K,EAAO;AAC9B,UAAMC,OAAO,GAAG,KAAKV,UAAL,CAAgBK,WAAhB,EAA6BC,IAA7B,EAAmCG,KAAnC,CAAhB;AACA,WAAKE,QAAL,CAAc;AACVT,QAAAA,SAAS,EAAG,KAAKD,KAAL,CAAWC,SAAX,CAAqBU,MAArB,CAA4B,CAACF,OAAD,CAA5B;AADF,OAAd;AAGH;;;wCAEmB;AAAA;;AAAE;AAClBf,MAAAA,KAAK,CAACkB,GAAN,CAAU,kCAAV,EAA8CC,IAA9C,CAAmD,UAACC,QAAD,EAAa;AAChE,YAAGA,QAAQ,CAACC,IAAT,CAAcC,QAAd,KAA2B,IAA9B,EAAmC;AACjC,UAAA,MAAI,CAACN,QAAL,CAAc;AACVP,YAAAA,IAAI,EAAGW,QAAQ,CAACC,IAAT,CAAcZ,IAAd,CAAmB,CAAnB,EAAsBc;AADnB,WAAd;;AAGAC,UAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACC,IAAT,CAAcZ,IAAd,CAAmB,CAAnB,EAAsBc,QAAlC;AAED;AAEA,OATD;AAWH;;;6BAKO;AACJ,0BACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,UAAD;AAAY,QAAA,YAAY,EAAE,KAAKpB,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,eAEA,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKqB,OAAO,CAACC,GAAR,CAAY,yBAAyB,KAAKnB,KAAL,CAAWC,SAAX,CAAqBM,MAA1D,CADL,EAEK,KAAKP,KAAL,CAAWC,SAAX,CAAqBmB,OAArB,GAA+BC,GAA/B,CAAmC,UAACC,IAAD,EACpC;AACA,eAAOA,IAAP;AACC,OAHA,CAFL,CAFA,CADJ;AAaH;;;;EAzDkB1C,S;;AA4DvB,eAAeK,UAAU,CAACU,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport List from '@material-ui/core/List';\r\nimport {withRouter, useHistory, BrowserRouter , Switch, Route, Link, Redirect} from \"react-router-dom\";\r\nimport PostDialog from './PostDialog';\r\nimport Post from './Post';\r\nimport Axios from 'axios';\r\n\r\n\r\nclass Newsfeed extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.addPost = this.addPost.bind(this);\r\n        this.createPost = this.createPost.bind(this);\r\n        \r\n        this.state = {\r\n            feedItems : [],\r\n            currentText : \"\",\r\n            user : \"\"\r\n            \r\n        }\r\n    }\r\n\r\n    createPost(description, tags, file) {\r\n        return <Post key={this.state.feedItems.length} description={description} tags={tags} file={file} user={this.state.user}/>;\r\n    }\r\n\r\n    addPost(description, tags, image) {\r\n        const newPost = this.createPost(description, tags, image);\r\n        this.setState({\r\n            feedItems : this.state.feedItems.concat([newPost])\r\n        });\r\n    }\r\n\r\n    componentDidMount() { // Runs after the first render\r\n        Axios.get('http://localhost:3001/checklogin').then((response)=> {\r\n        if(response.data.loggedIn === true){\r\n          this.setState({\r\n              user : response.data.user[0].Username\r\n          });\r\n          console.log(response.data.user[0].Username)\r\n          \r\n        }\r\n        \r\n        });\r\n        \r\n    }\r\n\r\n    \r\n\r\n\r\n    render(){\r\n        return (\r\n            <Container>\r\n            <PostDialog onPostSubmit={this.addPost}></PostDialog>\r\n            <List ref=\"feed\">\r\n                {console.log(\"number of elements: \" + this.state.feedItems.length)}\r\n                {this.state.feedItems.reverse().map((item) => \r\n                {\r\n                return item\r\n                })\r\n                }\r\n            </List>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Newsfeed);"]},"metadata":{},"sourceType":"module"}